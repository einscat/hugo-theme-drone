{{ define "main" }}

<div class="h-screen w-full bg-bg flex flex-col overflow-hidden">
  <div class="flex-none z-50 py-4 w-full relative">
    {{ partial "header.html" . }}
  </div>

  {{ partial "posts/left-tab-nav.html" . }}

  <div class="flex-1 w-full flex flex-col overflow-hidden">
    <div class="flex-1 w-full overflow-y-auto no-scrollbar scroll-smooth" id="scroll-container">
      <div class="article-container pt-8 pb-24">

        <header class="w-full flex flex-col items-center mb-4 layout-fixed-header">
          <h1 class="article-fixed-title">{{ .Title }}</h1>

          <hr class="layout-divider">

          <div class="article-fixed-meta">
            <div class="meta-left">
              <span style="opacity: 0.7;">ğŸ“…</span>
              <time>{{ .Date.Format "2006-01-02" }}</time>
              <span class="mx-2 opacity-30">|</span>
              <span style="opacity: 0.7;">ğŸ“</span>
              <span>{{ .WordCount }} å­—</span>
            </div>

            {{ if .Params.tags }}
            <div class="meta-tags">
              {{ range .Params.tags }}
              <span class="meta-tag">#{{ . }}</span>
              {{ end }}
            </div>
            {{ end }}
          </div>
        </header>

        <main class="article-main">
          <article class="article-card animate-fade-in-up">
            <div class="layout-content prose prose-slate max-w-none
                        prose-headings:font-bold prose-headings:tracking-tight
                        prose-h2:mt-8 prose-h2:mb-4 prose-h2:text-2xl prose-h2:text-primary
                        prose-h3:text-xl
                        prose-a:text-[var(--color-brand)] prose-a:no-underline hover:prose-a:underline
                        prose-img:rounded-xl prose-img:shadow-md
                        prose-code:text-[var(--color-brand)] prose-code:bg-brand/10 prose-code:px-1 prose-code:rounded">
              {{ .Content }}
            </div>
          </article>
        </main>

        {{ partial "posts/right-toc-nav.html" . }}
      </div>
    </div>
  </div>
</div>

{{ if or (eq .Site.Params.enableImageZoom true) (eq .Params.enableImageZoom true) }}
<div id="lightbox-overlay" class="lightbox-overlay">
  <div class="lightbox-close">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>
  </div>
  <img id="lightbox-image" class="lightbox-img" src="" alt="Zoomed Image">
</div>
{{ end }}

{{ $script := resources.Get "js/article.js" | minify | fingerprint }}
<script src="{{ $script.RelPermalink }}" defer></script>

{{ end }}